# PostgreSQL рж╕ржорзНржкрж░рзНржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## PostgreSQL ржХрж┐?
PostgreSQL рж╣рж▓ ржПржХржЯрж┐ **ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ ржЕржмржЬрзЗржХрзНржЯ-рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (ORDBMS)**, ржпрж╛ ржЙржЪрзНржЪ ржорж╛ржирзЗрж░ **ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕, рж╕рзНржХрзЗрж▓рзЗржмрж┐рж▓рж┐ржЯрж┐, ржбрж╛ржЯрж╛ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐, ржПржмржВ ACID ржХржоржкрзНрж▓рж╛рзЯрзЗржирзНрж╕** ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред ржПржЯрж┐ SQL ржПржмржВ JSON рж╕рж╣ ржмрж┐ржнрж┐ржирзНржи ржбрж╛ржЯрж╛ ржЯрж╛ржЗржк рж╕ржорж░рзНржержи ржХрж░рзЗ ржПржмржВ ржмрж┐рж╕рзНрждрзГржд ржПржХрзНрж╕ржЯрзЗржирж╢ржи рж╕ржорж░рзНржержи ржХрж░рзЗред

## PostgreSQL-ржП ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛рж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрзА?
**рж╕рзНржХрж┐ржорж╛ (Schema)** рж╣рж▓ ржПржХржЯрж┐ **рж▓ржЬрж┐ржХрзНржпрж╛рж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░**, ржпрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржмрж┐ржнрж┐ржирзНржи **ржЯрзЗржмрж┐рж▓, ржлрж╛ржВрж╢ржи, ржЗржиржбрзЗржХрзНрж╕** ржПржмржВ ржЕржирзНржпрж╛ржирзНржп ржЕржмржЬрзЗржХрзНржЯ рж╕ржВрж░ржХрзНрж╖ржг ржУ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ рж╕рж╣рж╛ржпрж╝рждрж╛ ржХрж░рзЗред ржПржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕ржХрзЗ **рж╕рж╛ржВржЧржаржирж┐ржХржнрж╛ржмрзЗ рж╕рж╛ржЬрж┐рзЯрзЗ рж░рж╛ржЦрждрзЗ** рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
CREATE SCHEMA sales;
CREATE TABLE sales.orders (
    id SERIAL PRIMARY KEY,
    customer_name VARCHAR(100),
    total_price NUMERIC
);
```
ржПрждрзЗ **sales** ржирж╛ржорзЗ ржПржХржЯрж┐ рж╕рзНржХрж┐ржорж╛ рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗ, ржпрзЗржЦрж╛ржирзЗ **orders** ржЯрзЗржмрж┐рж▓ ржерж╛ржХржмрзЗред

## Primary Key ржПржмржВ Foreign Key ржХрзА?
тЬЕ **Primary Key:**
- ржПржЯрж┐ ржПржХржЯрж┐ **ржХрж▓рж╛ржо ржмрж╛ ржХрж▓рж╛ржоржЧрзБрж▓рзЛрж░ рж╕рзЗржЯ**, ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж╕рж╛рж░рж┐ржХрзЗ **ржПржХржХржнрж╛ржмрзЗ рж╢ржирж╛ржХрзНржд** ржХрж░рзЗред
- **ржбрзБржкрзНрж▓рж┐ржХрзЗржЯ ржмрж╛ NULL ржорж╛ржи ржЧрзНрж░рж╣ржг ржХрж░рзЗ ржирж╛**ред

тЬЕ **Foreign Key:**
- ржПржЯрж┐ ржПржХржЯрж┐ **ржХрж▓рж╛ржо ржпрж╛ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржХрзЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рзЗ**ред
- ржПржЯрж┐ **ржбрж╛ржЯрж╛рж░ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗ**ред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
CREATE TABLE customers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL
);

CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    customer_id INT REFERENCES customers(id),
    total_price NUMERIC NOT NULL
);
```
ржПржЦрж╛ржирзЗ `orders.customer_id` **foreign key** рж╣рж┐рж╕рж╛ржмрзЗ `customers.id` рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░ржЫрзЗред

## VARCHAR ржПржмржВ CHAR-ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп ржХрзА?
| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп  | VARCHAR | CHAR |
|------------|---------|------|
| ржжрзИрж░рзНржШрзНржп | ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ ржжрзИрж░рзНржШрзНржпрзЗрж░ рж╕рзНржЯрзНрж░рж┐ржВ | ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ рж╕рзНржЯрзНрж░рж┐ржВ |
| рж╕ржВрж░ржХрзНрж╖ржг | рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЬрж╛рзЯржЧрж╛ ржирзЗрзЯ | ржирж┐рж░рзНржзрж╛рж░рж┐ржд ржЬрж╛рзЯржЧрж╛ ржмрж░рж╛ржжрзНржж ржерж╛ржХрзЗ |
| ржЧрждрж┐ | ржмрзЬ ржбрж╛ржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржгрзЗ ржХрж╛рж░рзНржпржХрж░рзА | ржЫрзЛржЯ ржбрж╛ржЯрж╛ ржжрзНрж░рзБржд ржкрзНрж░рж╕рзЗрж╕ рж╣рзЯ |

**ржЙржжрж╛рж╣рж░ржг:**
```sql
CREATE TABLE example (
    name1 VARCHAR(50),
    name2 CHAR(50)
);
```

## SELECT рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗ WHERE ржХрзНрж▓ржЬрзЗрж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрзА?
тЬЕ **WHERE ржХрзНрж▓ржЬ** **ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржЕржирзБржпрж╛рзЯрзА рж░рзЗржХрж░рзНржб ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рждрзЗ** ржмрзНржпржмрж╣рзГржд рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
SELECT * FROM customers WHERE id = 5;
```
ржПржЯрж┐ `id = 5` ржПржоржи ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ рждржерзНржп ржлрзЗрж░ржд ржжрзЗржмрзЗред

## LIMIT ржПржмржВ OFFSET ржХрзНрж▓ржЬрзЗрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрзА?
тЬЕ **LIMIT** тЖТ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржВржЦрзНржпржХ рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржЖржирзЗред
тЬЕ **OFFSET** тЖТ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржВржЦрзНржпржХ рж░рзЗржХрж░рзНржб ржмрж╛ржж ржжрж┐рзЯрзЗ ржкрж░ржмрж░рзНрждрзА рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржЖржирзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
SELECT * FROM customers LIMIT 10 OFFSET 5;
```
ржПржЯрж┐ **рзлржЯрж┐ рж░рзЗржХрж░рзНржб ржмрж╛ржж ржжрж┐рзЯрзЗ ржкрж░ржмрж░рзНрждрзА рззрзжржЯрж┐ рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржЖржиржмрзЗ**ред

## UPDATE рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрж╛ржЯрж╛ ржХрзАржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛рзЯ?
тЬЕ **UPDATE** рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ **ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржЖржкржбрзЗржЯ ржХрж░рждрзЗ** ржмрзНржпржмрж╣рзГржд рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
UPDATE customers SET name = 'Rahim' WHERE id = 1;
```
ржПржЯрж┐ `id = 1` ржПржоржи ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржирж╛ржо ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ **Rahim** ржХрж░ржмрзЗред

## PostgreSQL-ржП JOIN ржЕржкрж╛рж░рзЗрж╢ржирзЗрж░ ржЧрзБрж░рзБрждрзНржм ржУ ржХрж╛ржЬ ржХрзА?
тЬЕ **JOIN ржЕржкрж╛рж░рзЗрж╢ржи** ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗ **рж╕ржорзНржкрж░рзНржХрж┐ржд ржбрж╛ржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржЖржирж╛рж░ ржЬржирзНржп** ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

| JOIN ржЯрж╛ржЗржк  | ржмрзНржпржмрж╣рж╛рж░ |
|------------|---------|
| INNER JOIN | ржжрзБржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ **ржорзНржпрж╛ржЪрж┐ржВ рж░рзЗржХрж░рзНржб** ржлрзЗрж░ржд ржжрзЗрзЯ |
| LEFT JOIN | **ржкрзНрж░ржержо ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб + ржжрзНржмрж┐рждрзАрзЯ ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржб** |
| RIGHT JOIN | **ржжрзНржмрж┐рждрзАрзЯ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб + ржкрзНрж░ржержо ржЯрзЗржмрж┐рж▓рзЗрж░ ржорж┐рж▓ ржерж╛ржХрж╛ рж░рзЗржХрж░рзНржб** |

**ржЙржжрж╛рж╣рж░ржг:**
```sql
SELECT customers.name, orders.total_price
FROM customers
JOIN orders ON customers.id = orders.customer_id;
```
ржПржЯрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржирж╛ржо ржПржмржВ рждрж╛ржжрзЗрж░ **ржЕрж░рзНржбрж╛рж░ ржЯрзЛржЯрж╛рж▓ ржкрзНрж░рж╛ржЗрж╕** ржжрзЗржЦрж╛ржмрзЗред

## GROUP BY ржХрзНрж▓ржЬ ржУ ржПрж░ ржнрзВржорж┐ржХрж╛ ржХрзА?
тЬЕ **GROUP BY** **ржПржХржЗ ржзрж░ржгрзЗрж░ рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛржХрзЗ ржЧрзНрж░рзБржк ржХрж░рзЗ ржПржмржВ ржЕрзНржпрж╛ржЧрзНрж░рж┐ржЧрзЗржЯ ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ**ред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
SELECT customer_id, COUNT(*) AS total_orders
FROM orders
GROUP BY customer_id;
```
ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржХрж╛рж╕рзНржЯржорж╛рж░рзЗрж░ ржорзЛржЯ ржЕрж░рзНржбрж╛рж░рзЗрж░ рж╕ржВржЦрзНржпрж╛ ржжрзЗржЦрж╛ржмрзЗред

## PostgreSQL-ржП COUNT(), SUM(), ржПржмржВ AVG() ржХрж┐ржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ?
тЬЕ **COUNT()** тЖТ ржорзЛржЯ рж░рзЗржХрж░рзНржбрзЗрж░ рж╕ржВржЦрзНржпрж╛ ржЧржгржирж╛ ржХрж░рзЗред
тЬЕ **SUM()** тЖТ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржорзЛржЯ ржпрзЛржЧржлрж▓ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
тЬЕ **AVG()** тЖТ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржЧрзЬ ржорж╛ржи ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```sql
SELECT COUNT(*) FROM orders; -- ржорзЛржЯ ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛
SELECT SUM(total_price) FROM orders; -- ржорзЛржЯ ржмрж┐ржХрзНрж░рзЯ ржкрж░рж┐ржорж╛ржг
SELECT AVG(total_price) FROM orders; -- ржЧрзЬ ржЕрж░рзНржбрж╛рж░ ржорзВрж▓рзНржп
```

## ЁЯФЧ **PostgreSQL ржЕржлрж┐рж╕рж┐рзЯрж╛рж▓ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи**
PostgreSQL ржирж┐рзЯрзЗ ржЖрж░ржУ ржЬрж╛ржирждрзЗ ржЕржлрж┐рж╕рж┐рзЯрж╛рж▓ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи ржкрзЬрждрзЗ ржкрж╛рж░рзЗржи: [PostgreSQL Documentation](https://www.postgresql.org/docs/)

---

